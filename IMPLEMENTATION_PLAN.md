# Meta-Ralph Implementation Plan

> **Last Updated:** 2026-01-26 (Sprint 1-3 completed - Tag Integration + CLI Flags + Options Panel)
> **Generated by:** Claude Opus 4.5 analysis of specs vs. source code
> **Priority Legend:** P0 = Critical/Blocking, P1 = High, P2 = Medium, P3 = Low

---

## Executive Summary

This plan outlines the verified implementation gaps between the current Meta-Ralph codebase and the specifications in `specs/`.

**Current State:**
- **CLI Core**: ‚úÖ Complete with Zeropath, Sentry, and Codecov providers + **CLI flags for mode/model/auto-push**
- **PRD-01 (Enhanced UI)**: ~95% complete - **Tag system now fully integrated**
- **PRD-02 (Codecov Provider)**: ‚úÖ Complete
- **PRD-03 (JSON Streaming)**: ~25% complete - Shell parses JSON, UI shows plain text
- **PRD-04-06 (Mode/Model/AutoPush)**: ‚úÖ **Complete** - Backend + CLI + UI Options Panel
- **PRD-07 (CI/CD Awareness)**: ‚ùå 0% complete
- **PRD-08 (Plan File Viewer)**: ‚ùå 0% complete
- **PRD-09 (Options Panel)**: ‚úÖ **Complete** - Full implementation

### CRITICAL GAPS REQUIRING IMMEDIATE ATTENTION

| Priority | Gap | Impact | Blocking |
|----------|-----|--------|----------|
| ~~**P0**~~ | ~~CLI flags `--mode`, `--model`, `--auto-push` NOT parsed~~ | ~~Users cannot control processing behavior~~ | ‚úÖ **RESOLVED** |
| ~~**P0**~~ | ~~Options Panel UI 0% complete~~ | ~~Users cannot configure processing before starting~~ | ‚úÖ **RESOLVED** |
| ~~**P0**~~ | ~~Tag system built but NOT integrated~~ | ~~62 tests for unused components~~ | ‚úÖ **RESOLVED** |
| **P1** | Activity Feed missing | Users see plain text instead of rich activity view | No |
| **P1** | API routes missing | `/api/process/stream`, `/api/issues/bulk` not created | Partially |

### What's Actually Complete

| Component | Verified Status | Notes |
|-----------|-----------------|-------|
| meta-ralph.sh orchestrator | ‚úÖ Complete | Processes issues, supports --dry-run, --json, **--mode, --model, --auto-push** |
| ralph-engine.sh functions | ‚úÖ Complete | `ralph_fix_loop()` and `process_issue()` accept mode/model/auto_push params |
| Provider implementations | ‚úÖ Complete | Zeropath, Sentry, Codecov all functional |
| UI Components (Phases 1-6) | ‚úÖ Complete | Search, Filter, Sort, Group, Dashboard, Queue, History, Tags |
| Tag System Integration | ‚úÖ **COMPLETE** | useTags integrated in page.tsx, IssueRow, FilterBar, BulkActionBar |
| Processing Options Panel | ‚úÖ Complete | 6 components + hook + 52 tests |
| Keyboard Shortcuts | ‚úÖ Complete | 22 shortcuts implemented |
| CI/CD Pipeline | ‚úÖ Complete | GitHub Actions with lint, typecheck, test, build |
| E2E Tests | ‚úÖ Complete | 69 Playwright tests |
| Unit Tests | ‚úÖ Complete | 490 tests passing |

---

## Progress Tracker

| Phase | Status | Completed | Remaining |
|-------|--------|-----------|-----------|
| CLI Core | ‚úÖ Complete | All providers, priority system, **CLI flags** | - |
| Phase 1-3 (Foundation) | ‚úÖ Complete | Hooks, Context, Search, Filter, Bulk Actions | - |
| Phase 4 (Codecov) | ‚úÖ Complete | Provider, API helpers, priority calc | - |
| Phase 5 (Enhanced UX) | ‚úÖ Complete | Keyboard, Grouping, Dashboard, Queue, Pagination | - |
| Phase 6 (Polish) | ‚úÖ Complete | Theme, Saved Views, History, Tags (components only) | - |
| Phase 10 (Testing) | ‚úÖ Complete | CI, ESLint, Integration tests, E2E | - |
| **Phase 7 (Tag Integration)** | ‚úÖ **COMPLETE** | useTags in page.tsx, TagBadge in IssueRow, FilterBar tags, BulkActionBar bulk tags | - |
| **Phase 8 (CLI Flags)** | ‚úÖ **COMPLETE** | --mode, --model, --auto-push flags + config.sh defaults | - |
| **Phase 9 (Options Panel)** | ‚úÖ **COMPLETE** | 6 components, 1 hook, 52 tests | - |
| **Phase 10 (Activity Feed)** | ‚ùå NOT STARTED | - | 7 components + SSE |
| **Phase 11 (CI/CD Awareness)** | ‚ùå NOT STARTED | - | 6 components + API |
| **Phase 12 (Plan Viewer)** | ‚ùå NOT STARTED | - | 4 components + API |

---

## SPRINT 1: Tag Integration (P0 - URGENT) ‚úÖ COMPLETE

**Goal:** Integrate the already-built tag system into the UI

**Status:** ‚úÖ **COMPLETED on 2026-01-26**

**Changes Made:**
- `ui/src/app/page.tsx`: Imported useTags, passed availableTags and onToggleTag to FilterBar
- `ui/src/components/IssueRow.tsx`: Added TagBadge display inline with title (shows up to 3 tags)
- `ui/src/components/actions/BulkActionBar.tsx`: Added bulk tagging dropdown with add/remove functionality
- `ui/src/contexts/AppContext.tsx`: Exposed toggleTag from useFilters
- Fixed pre-existing test issues (scrollIntoView mock, ProviderBadge label)

### 7.1 Import useTags in page.tsx
**File:** `ui/src/app/page.tsx`

```typescript
// Add to imports
import { useTags } from '@/hooks';
import { TagBadge, TagInput, TagManager } from '@/components/tags';

// Add inside Home component
const {
  tags,
  getIssueTags,
  addTagToIssue,
  removeTagFromIssue,
  bulkAddTags,
  bulkRemoveTags,
  createTag,
} = useTags();
```

### 7.2 Display TagBadges in IssueRow
**File:** `ui/src/components/IssueRow.tsx`

Add a tags column after the title that displays TagBadge components for each issue's tags.

**Changes needed:**
- Import `TagBadge` from `@/components/tags`
- Add `tags?: Tag[]` prop to `IssueRowProps`
- Render tags in a new column or inline with title

### 7.3 Connect Tag Filtering in FilterBar
**File:** `ui/src/app/page.tsx`

The FilterBar component ALREADY accepts `availableTags` and `onToggleTag` props (lines 257-277 of FilterBar.tsx). Connect them:

```typescript
<FilterBar
  // existing props...
  availableTags={tags.map(t => t.name)}
  onToggleTag={(tagName) => {
    const tag = tags.find(t => t.name === tagName);
    if (tag) toggleTag(tag.id);
  }}
/>
```

### 7.4 Add Bulk Tagging to BulkActionBar
**File:** `ui/src/components/actions/BulkActionBar.tsx`

Add "Add Tags" and "Remove Tags" buttons that open a tag selector.

**Changes needed:**
- Import `TagInput` from `@/components/tags`
- Add props: `availableTags`, `onBulkAddTags`, `onBulkRemoveTags`
- Add state for tag selection UI
- Implement tag application logic

### 7.5 Add TagManager Access
**File:** `ui/src/app/page.tsx`

Add a button in the header to open TagManager modal for CRUD operations.

---

## SPRINT 2: CLI Flag Implementation (P0 - BLOCKING) ‚úÖ COMPLETE

**Goal:** Enable CLI flags that expose the already-implemented engine parameters

**Status:** ‚úÖ **COMPLETED on 2026-01-26**

**Changes Made:**
- `meta-ralph.sh`: Added --mode, --model, --auto-push argument parsing with validation
- `meta-ralph.sh`: Added defaults (MODE, MODEL, AUTO_PUSH) after line 35
- `meta-ralph.sh`: Updated process_issue call to pass mode/model/auto_push parameters
- `meta-ralph.sh`: Added help text for new options
- `meta-ralph.sh`: Added configuration display for mode/model/auto-push
- `config.sh`: Added RALPH_MODE, RALPH_MODEL, RALPH_AUTO_PUSH exports with defaults
- `config.sh`: Updated config_loaded() to display new settings

### 8.1 Add CLI Argument Parsing
**File:** `meta-ralph.sh`

Add to argument parsing section (after line 90):

```bash
--mode)
    MODE="$2"
    shift 2
    ;;
--model)
    MODEL="$2"
    shift 2
    ;;
--auto-push)
    AUTO_PUSH="$2"
    shift 2
    ;;
```

Add defaults (after line 35):

```bash
MODE="${RALPH_MODE:-build}"
MODEL="${RALPH_MODEL:-sonnet}"
AUTO_PUSH="${RALPH_AUTO_PUSH:-true}"
```

Pass to process_issue call (line 358):

```bash
if process_issue "$issue" "$provider" "$WORK_DIR" "$BASE_BRANCH" "$MAX_ITERATIONS" "$MODE" "$MODEL" "$AUTO_PUSH"; then
```

### 8.2 Add Defaults to config.sh
**File:** `config.sh`

Add section after RALPH SETTINGS:

```bash
# ============================================================================
# PROCESSING OPTIONS
# ============================================================================
export RALPH_MODE="${RALPH_MODE:-build}"           # plan or build
export RALPH_MODEL="${RALPH_MODEL:-sonnet}"        # sonnet or opus
export RALPH_AUTO_PUSH="${RALPH_AUTO_PUSH:-true}"  # auto-push after fix
```

### 8.3 Update Help Text
**File:** `meta-ralph.sh`

Add to help text (line 105-118):

```
  --mode MODE            Processing mode: plan or build (default: build)
  --model MODEL          Claude model: sonnet or opus (default: sonnet)
  --auto-push BOOL       Auto-push after fix: true or false (default: true)
```

---

## SPRINT 3: Processing Options Panel (P0) ‚úÖ COMPLETE

**Goal:** Create UI for configuring processing options before starting

**Why P0:** Users cannot control how issues are processed without this panel.

**Estimated Effort:** 8-12 hours

**Depends On:** Sprint 2 (CLI Flags)

**Status:** ‚úÖ **COMPLETED on 2026-01-26**

**Changes Made:**
- `ui/src/lib/types.ts`: Added ProcessingOptions, ProcessingPreset, CostEstimate types and PROCESSING_PRESETS constant
- `ui/src/hooks/useProcessingOptions.ts`: Created hook for managing options state with localStorage persistence
- `ui/src/components/options/ModeToggle.tsx`: Toggle between Plan/Build modes
- `ui/src/components/options/ModelSelector.tsx`: Select between Sonnet/Opus models with cost info
- `ui/src/components/options/IterationSlider.tsx`: Slider for max iterations (1-20)
- `ui/src/components/options/PresetSelector.tsx`: Quick preset selection (Quick Fix, Careful Fix, Complex Issue, Security Audit)
- `ui/src/components/options/CostEstimateDisplay.tsx`: Real-time cost estimation display
- `ui/src/components/options/ProcessingOptionsPanel.tsx`: Main panel orchestrating all option components
- `ui/src/lib/meta-ralph.ts`: Updated processIssues() to accept and pass ProcessingOptions
- `ui/src/app/page.tsx`: Integrated ProcessingOptionsPanel into main flow
- `ui/src/contexts/AppContext.tsx`: Added processingOptions state and handlers
- `ui/src/app/api/issues/route.ts`: Updated POST handler to accept options parameter

### 9.1 Create Directory Structure
```
ui/src/components/options/
‚îú‚îÄ‚îÄ ProcessingOptionsPanel.tsx
‚îú‚îÄ‚îÄ ModeToggle.tsx
‚îú‚îÄ‚îÄ ModelSelector.tsx
‚îú‚îÄ‚îÄ IterationSlider.tsx
‚îú‚îÄ‚îÄ PresetSelector.tsx
‚îú‚îÄ‚îÄ CostEstimate.tsx
‚îî‚îÄ‚îÄ index.ts
```

### 9.2 Add Types to types.ts
**File:** `ui/src/lib/types.ts`

```typescript
// Processing Options
export interface ProcessingOptions {
  mode: 'plan' | 'build';
  model: 'sonnet' | 'opus';
  maxIterations: number;
  autoPush: boolean;
  ciAwareness: boolean;
  autoFixCi: boolean;
}

export interface ProcessingPreset {
  id: string;
  name: string;
  description: string;
  icon: string;
  options: ProcessingOptions;
  isCustom?: boolean;
}

export interface CostEstimate {
  min: number;
  max: number;
  currency: 'USD';
}

// Presets
export const PROCESSING_PRESETS: ProcessingPreset[] = [
  {
    id: 'quick-fix',
    name: 'Quick Fix',
    description: 'Fast fix with Sonnet',
    icon: '‚ö°',
    options: { mode: 'build', model: 'sonnet', maxIterations: 5, autoPush: true, ciAwareness: false, autoFixCi: false }
  },
  {
    id: 'careful-fix',
    name: 'Careful Fix',
    description: 'Plan first, then build',
    icon: 'üéØ',
    options: { mode: 'plan', model: 'sonnet', maxIterations: 10, autoPush: true, ciAwareness: true, autoFixCi: false }
  },
  {
    id: 'complex-issue',
    name: 'Complex Issue',
    description: 'Full analysis with Opus',
    icon: 'üß†',
    options: { mode: 'build', model: 'opus', maxIterations: 15, autoPush: true, ciAwareness: true, autoFixCi: true }
  },
  {
    id: 'security-audit',
    name: 'Security Audit',
    description: 'Analysis only, no changes',
    icon: 'üîí',
    options: { mode: 'plan', model: 'opus', maxIterations: 3, autoPush: false, ciAwareness: false, autoFixCi: false }
  }
];
```

### 9.3 Create useProcessingOptions Hook
**File:** `ui/src/hooks/useProcessingOptions.ts`

Hook for managing processing options state with localStorage persistence.

### 9.4 Create ProcessingOptionsPanel Component
**File:** `ui/src/components/options/ProcessingOptionsPanel.tsx`

Modal that shows all processing options with presets.

**UI Elements:**
- PresetSelector (4 preset buttons + Custom)
- ModeToggle (Plan / Build)
- ModelSelector (Sonnet / Opus with info)
- IterationSlider (1-20 range)
- Checkbox toggles (Auto-push, CI Awareness, Auto-fix CI)
- CostEstimate display
- Start Processing button

### 9.5 Create API Route
**File:** `ui/src/app/api/process/route.ts`

```typescript
// POST /api/process
export async function POST(request: Request) {
  const { ids, options } = await request.json();
  // Pass options to meta-ralph.sh via CLI flags
}
```

### 9.6 Update meta-ralph.ts
**File:** `ui/src/lib/meta-ralph.ts`

Update `processIssues()` to accept and pass options:

```typescript
export function processIssues(
  issueIds: string[],
  options: ProcessingOptions,
  onLog: (log: string) => void,
  onComplete: (success: boolean) => void
): () => void {
  const args = [
    META_RALPH_PATH,
    '--only-ids', issueIds.join(','),
    '--providers', PROVIDERS,
    '--mode', options.mode,
    '--model', options.model,
    '--auto-push', String(options.autoPush),
    '--max-iterations', String(options.maxIterations),
  ];
  // ...
}
```

### 9.7 Integrate in page.tsx
**File:** `ui/src/app/page.tsx`

Change ProcessButton click to open ProcessingOptionsPanel first, then start processing after user confirms options.

**Current flow:**
```
ProcessButton.onClick() ‚Üí handleProcess() ‚Üí opens queue directly
```

**New flow:**
```
ProcessButton.onClick() ‚Üí opens ProcessingOptionsPanel ‚Üí user configures ‚Üí "Start" ‚Üí handleProcess(options) ‚Üí opens queue
```

---

## SPRINT 4: Activity Feed & JSON Streaming (P1)

**Goal:** Display rich real-time activity during processing

**Why P1:** Shell already parses JSON events (ralph-engine.sh:parse_claude_events), UI needs to display them.

**Estimated Effort:** 12-16 hours

### 10.1 Create Activity Components
```
ui/src/components/queue/
‚îú‚îÄ‚îÄ ActivityFeed.tsx      (new)
‚îú‚îÄ‚îÄ ActivityItem.tsx      (new)
‚îú‚îÄ‚îÄ MetricsDisplay.tsx    (new)
‚îú‚îÄ‚îÄ ProcessingQueue.tsx   (update)
‚îî‚îÄ‚îÄ ...
```

### 10.2 Add Types
**File:** `ui/src/lib/types.ts`

```typescript
export type ClaudeToolType = 'Read' | 'Write' | 'Edit' | 'Bash' | 'Glob' | 'Grep' | 'Task' | 'TodoWrite';

export interface Activity {
  id: string;
  timestamp: string;
  type: 'tool' | 'message' | 'result' | 'error';
  tool?: ClaudeToolType;
  details?: string;
  status?: 'pending' | 'success' | 'error';
}

export interface ExecutionMetrics {
  iteration: number;
  maxIterations: number;
  costUsd: number;
  durationMs: number;
  totalCostUsd: number;
  totalDurationMs: number;
}

// Tool icons (from PRD-03)
export const TOOL_ICONS: Record<ClaudeToolType, string> = {
  Read: 'üîç',
  Write: '‚úèÔ∏è',
  Edit: '‚úèÔ∏è',
  Bash: '‚ö°',
  Glob: 'üîç',
  Grep: 'üîç',
  Task: 'üöÄ',
  TodoWrite: 'üìù',
};
```

### 10.3 Create SSE Endpoint
**File:** `ui/src/app/api/process/stream/route.ts`

Server-Sent Events endpoint that streams JSON events from the shell process.

### 10.4 Create useProcessingStream Hook
**File:** `ui/src/hooks/useProcessingStream.ts`

EventSource hook for consuming SSE stream.

### 10.5 Create events.ts Parser
**File:** `ui/src/lib/events.ts`

Client-side parser for Claude JSON events matching ralph-engine.sh output.

### 10.6 Update ProcessingQueue
**File:** `ui/src/components/queue/ProcessingQueue.tsx`

Replace plain text logs with ActivityFeed component.

---

## SPRINT 5: CI/CD Awareness (P2)

**Goal:** Show CI status and enable auto-fix for CI failures

**Why P2:** Enhances workflow but not critical for basic functionality.

**Estimated Effort:** 10-14 hours

**Depends On:** Sprint 3 (Options Panel - for ciAwareness toggle)

### 11.1 Create Components
```
ui/src/components/queue/
‚îú‚îÄ‚îÄ CIStatusPanel.tsx     (new)
‚îî‚îÄ‚îÄ ...
```

### 11.2 Add Types
**File:** `ui/src/lib/types.ts`

```typescript
export interface CICheck {
  id: string;
  name: string;
  status: 'queued' | 'in_progress' | 'completed';
  conclusion?: 'success' | 'failure' | 'cancelled' | 'skipped';
  startedAt?: string;
  completedAt?: string;
  detailsUrl: string;
}

export interface CIStatus {
  sha: string;
  branch: string;
  checks: CICheck[];
  overallStatus: 'pending' | 'success' | 'failure' | 'mixed';
}

// CI Status Icons
export const CI_STATUS_ICONS = {
  pending: 'üü°',
  success: '‚úÖ',
  failure: '‚ùå',
  running: '‚è≥',
};
```

### 11.3 Create API Routes
```
ui/src/app/api/ci/
‚îú‚îÄ‚îÄ status/route.ts       GET - fetch check runs from GitHub
‚îú‚îÄ‚îÄ logs/route.ts         GET - fetch CI failure logs
‚îî‚îÄ‚îÄ fix/route.ts          POST - trigger auto-fix for CI failure
```

### 11.4 Create useCIStatus Hook
**File:** `ui/src/hooks/useCIStatus.ts`

Poll GitHub API for check run status (30-second intervals as per PRD-07).

---

## SPRINT 6: Plan File Viewer (P2)

**Goal:** Display and interact with IMPLEMENTATION_PLAN.md

**Why P2:** Useful for Plan mode but not critical.

**Estimated Effort:** 8-10 hours

### 12.1 Create Components
```
ui/src/components/queue/
‚îú‚îÄ‚îÄ PlanViewer.tsx        (new)
‚îú‚îÄ‚îÄ PlanProgress.tsx      (new)
‚îî‚îÄ‚îÄ ...
```

### 12.2 Create Plan Parser
**File:** `ui/src/lib/plan-parser.ts`

Parse IMPLEMENTATION_PLAN.md markdown to extract checkboxes, steps, progress.

### 12.3 Create API Route
**File:** `ui/src/app/api/plan/[issueId]/route.ts`

GET/PUT for reading and updating plan files.

---

## SPRINT 7: Missing PRD-01 Features (P2)

**Goal:** Complete remaining PRD-01 items

### 13.1 DateRangePicker
**File:** `ui/src/components/filters/DateRangePicker.tsx`

Filter by first/last seen dates.

### 13.2 URL Parameter Sync
**File:** `ui/src/hooks/useUrlParams.ts`

Sync filter/sort state to URL for shareable links.

### 13.3 Bulk API Route
**File:** `ui/src/app/api/issues/bulk/route.ts`

POST endpoint for bulk tag, ignore, restore operations.

---

## SPRINT 8: Additional Providers (P3)

### 14.1 GitHub Issues Provider
**Directory:** `providers/github/`

Currently empty. Implement provider.sh for GitHub Issues API.

### 14.2 Optional Providers
- Jira: `providers/jira/provider.sh`
- Linear: `providers/linear/provider.sh`

---

## API Routes Status

| Route | Status | Sprint | PRD Reference |
|-------|--------|--------|---------------|
| `GET /api/issues` | ‚úÖ Implemented | - | PRD-01 |
| `POST /api/issues` | ‚úÖ Implemented (with options) | 3 | PRD-01, PRD-09 |
| `POST /api/issues/bulk` | ‚ùå NOT STARTED | 7 | PRD-01 |
| `GET /api/issues/stream` | ‚ùå NOT STARTED | 4 | PRD-01, PRD-03 |
| `POST /api/process` | ‚úÖ Using existing /api/issues | 3 | PRD-04-06, PRD-09 |
| `GET /api/process/stream` | ‚ùå NOT STARTED | 4 | PRD-03 |
| `GET /api/ci/status` | ‚ùå NOT STARTED | 5 | PRD-07 |
| `GET /api/ci/logs` | ‚ùå NOT STARTED | 5 | PRD-07 |
| `POST /api/ci/fix` | ‚ùå NOT STARTED | 5 | PRD-07 |
| `GET /api/plan/[issueId]` | ‚ùå NOT STARTED | 6 | PRD-08 |
| `PUT /api/plan/[issueId]` | ‚ùå NOT STARTED | 6 | PRD-08 |

---

## Recommended Execution Order

### Week 1: Critical Integration & CLI ‚úÖ COMPLETE
1. **Sprint 1** - Tag Integration ‚úÖ COMPLETE
2. **Sprint 2** - CLI Flags ‚úÖ COMPLETE

### Week 2: Processing Control ‚úÖ COMPLETE
3. **Sprint 3** - Options Panel ‚úÖ COMPLETE

### Week 3: Real-time Feedback (NEXT)
4. **Sprint 4** - Activity Feed (12-16 hours) - Rich processing visibility

### Week 4+: Enhancement Features
5. **Sprint 5** - CI/CD Awareness (10-14 hours)
6. **Sprint 6** - Plan Viewer (8-10 hours)
7. **Sprint 7** - PRD-01 Completion (6-8 hours)
8. **Sprint 8** - Additional Providers (as needed)

---

## File Reference

### Files Changed in Sprint 1-2 ‚úÖ COMPLETE

| File | Change Type | Sprint | Status |
|------|-------------|--------|--------|
| `ui/src/app/page.tsx` | Add imports, integrate useTags | 1 | ‚úÖ Done |
| `ui/src/components/IssueRow.tsx` | Add TagBadge inline with title | 1 | ‚úÖ Done |
| `ui/src/components/actions/BulkActionBar.tsx` | Add bulk tagging dropdown | 1 | ‚úÖ Done |
| `ui/src/contexts/AppContext.tsx` | Expose toggleTag | 1 | ‚úÖ Done |
| `meta-ralph.sh` | Add --mode, --model, --auto-push flags | 2 | ‚úÖ Done |
| `config.sh` | Add RALPH_MODE, RALPH_MODEL, RALPH_AUTO_PUSH defaults | 2 | ‚úÖ Done |
| `ui/jest.setup.js` | Add scrollIntoView mock | Fix | ‚úÖ Done |
| `ui/src/components/queue/__tests__/QueueItem.test.tsx` | Fix provider label test | Fix | ‚úÖ Done |
| `ui/src/components/queue/__tests__/ProcessingQueue.test.tsx` | Fix logs section tests | Fix | ‚úÖ Done |

### Files Changed in Sprint 3 ‚úÖ COMPLETE

| File | Change Type | Sprint | Status |
|------|-------------|--------|--------|
| `ui/src/lib/types.ts` | Add ProcessingOptions types and presets | 3 | ‚úÖ Done |
| `ui/src/hooks/useProcessingOptions.ts` | Create options management hook | 3 | ‚úÖ Done |
| `ui/src/components/options/ModeToggle.tsx` | Create mode toggle component | 3 | ‚úÖ Done |
| `ui/src/components/options/ModelSelector.tsx` | Create model selector component | 3 | ‚úÖ Done |
| `ui/src/components/options/IterationSlider.tsx` | Create iteration slider component | 3 | ‚úÖ Done |
| `ui/src/components/options/PresetSelector.tsx` | Create preset selector component | 3 | ‚úÖ Done |
| `ui/src/components/options/CostEstimateDisplay.tsx` | Create cost estimate component | 3 | ‚úÖ Done |
| `ui/src/components/options/ProcessingOptionsPanel.tsx` | Create main options panel | 3 | ‚úÖ Done |
| `ui/src/lib/meta-ralph.ts` | Update processIssues to accept options | 3 | ‚úÖ Done |
| `ui/src/app/page.tsx` | Integrate options panel in flow | 3 | ‚úÖ Done |
| `ui/src/contexts/AppContext.tsx` | Add processingOptions state | 3 | ‚úÖ Done |
| `ui/src/app/api/issues/route.ts` | Update POST to accept options | 3 | ‚úÖ Done |

### New Directories to Create

| Directory | Sprint | Components |
|-----------|--------|------------|
| `ui/src/components/options/` | 3 | ProcessingOptionsPanel, ModeToggle, ModelSelector, etc. |
| `ui/src/app/api/process/` | 3 | route.ts |
| `ui/src/app/api/process/stream/` | 4 | route.ts (SSE) |
| `ui/src/app/api/ci/` | 5 | status/, logs/, fix/ |
| `ui/src/app/api/plan/` | 6 | [issueId]/route.ts |

---

## Notes

- ‚úÖ CLI flags --mode, --model, --auto-push are now implemented and validated
- ‚úÖ Tag system is now fully integrated into the UI
- ‚úÖ IssueRow displays tags inline with title (up to 3 tags with overflow indicator)
- ‚úÖ BulkActionBar has bulk tagging dropdown for add/remove operations
- ‚úÖ FilterBar connected to tag system via availableTags and onToggleTag props
- ‚úÖ Sprint 3 completed: Full Processing Options Panel with 6 components, 1 hook, and 52 comprehensive tests
- ‚úÖ Options panel includes 4 presets (Quick Fix, Careful Fix, Complex Issue, Security Audit) plus custom configuration
- ‚úÖ Processing options integrated with AppContext and passed through existing /api/issues POST route
- ralph-engine.sh already parses JSON events - UI needs ActivityFeed component
- All state management uses React hooks and context - no external state library
- Test suite is clean: 26 unit test files, 490 tests passing, 69 E2E tests
